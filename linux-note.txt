fuck 
丢了2份笔记，400多行呀，坑爹的mv。
做好备份，做好别名。


12-linux 系统目录结构介绍4
/var/log/message
/var/

/dev 目录 设备目录
/etc 目录 配置文件已经服务


第81课 linux系统文件类型知识详解

linux 系统中的文件类型

linux怎么区别文件类型，windows的文件扩展名在linux中怎么区别。

linux中一切结文本。

ls -l 出来的信息中，第一个字母表示文件类型
	d 是目录，-是普通文件,l是链接文件，c是字符设备，b是块设备，s是套接口文件。 
	第一列（第一个字符，加9个字符，加点，共11个字符）
	1)普通文件
		a，纯文本文件（asc11）：文件内容可以直接读到数据。例如：字母、数字、等。可以用cat命令读出文件内容。
		b，二进制文件（binary）：linux当中课执行文件（命令）就是属于这种格式。例如cat这个执行文件就是一个二进制文件。
		c，数据格式文件（data）：有些程序在运行的过程中会读取某些特定格式的文件，那些特定格式的文件可以被成为数据文件。例如：linux在用户登陆时，都会将登陆的数据记录在/var/log/wtmp那个文件内，该文件是一个数据文件。通过last目录读出来。cat命令会读出乱码。因为他属于一个特殊格式的文件。
1:命令　file (查看文件类型）

过滤出目录
	1,tree -d (只显示目录）
	２,ls -F(在不同的文件类型的结尾，加入不同的字符，以区别）　例子：
		ls -Fl | grep / (只显示目录文件）,-p(专门给目录加／）
	３,find ./ -type d (显示当前目录中文件类型是目录的文件，目录本身也包含在类。）
	４,ls -l | grep "`d" (查看当前目录的文件，将其中以d开头的文件过滤出来）
同理，ls -Fl | grep /$(以／结尾的文件）
	

正则表达式："^"以什么开头，列子: `d ,以ｄ开头。
				 /$，以／结尾。
	　　在awk,grep,sed中使用。

	2)字符设备，ｃ开头的文件，字符一般是串行端口的接口设备，如猫。
	3)块设备，ｂ开头的文件，硬盘、光驱都是块设备。
	4)套接口文件，ｓ开头的文件，网络间通信文件。
	5)符号链接文件，ｌ开头的文件，一个文件起了个别名,windows的快捷方式
	6)管道文件，几乎从来不用

扩展名：ｌｉｎｕｘ下的扩展名没有太大的意义。只是一个约定。
	1).tar  .tar.gz   .tgz   .zip  .tar.bz 表示压缩文件，
创建命令一般为tar,gzip,zip等。
	2).sh文件表示shell脚本文件，通过shell语言开发的程序。
	3).pl表示python语言文件，通过python语言开发的程序.
	4)4)套接口文件，ｓ开头的文件，网络间通信文件。
	5)符号链接文件，ｌ开头的文件，一个文件起了个别名,windows的快捷方式
	6)管道文件，几乎从来不用

扩展名：ｌｉｎｕｘ下的扩展名没有太大的意义。只是一个约定。
	1).tar  .tar.gz   .tgz   .zip  .tar.bz 表示压缩文件，
创建命令一般为tar,gzip,zip等。
	2).sh文件表示shell脚本文件，通过shell语言开发的程序。
	3).pl表示python语言文件，通过python语言开发的程序.
	4)4)套接口文件，ｓ开头的文件，网络间通信文件。
	5)符号链接文件，ｌ开头的文件，一个文件起了个别名,windows的快捷方式
	6)管道文件，几乎从来不用

扩展名：ｌｉｎｕｘ下的扩展名没有太大的意义。只是一个约定。
	1).tar  .tar.gz   .tgz   .zip  .tar.bz 表示压缩文件，
创建命令一般为tar,gzip,zip等。
	2).sh文件表示shell脚本文件，通过shell语言开发的程序。
	3).pl表示python语言文件，通过python语言开发的程序.
	4)4)套接口文件，ｓ开头的文件，网络间通信文件。
	5)符号链接文件，ｌ开头的文件，一个文件起了个别名,windows的快捷方式
	6)管道文件，几乎从来不用

扩展名：ｌｉｎｕｘ下的扩展名没有太大的意义。只是一个约定。
	1).tar  .tar.gz   .tgz   .zip  .tar.bz 表示压缩文件，
创建命令一般为tar,gzip,zip等。
	2).sh文件表示shell脚本文件，通过shell语言开发的程序。
	3).py表示python语言文件，通过python语言开发的程序.
	4).pl表示perl语言文件，通过perl语言开发的程序。
	5).html  .htm   .php  .jsp .do 表示网页语言的文件。
	6).conf 表示系统付的配置文件。
	7).rpm 表示rpm安装包文件。

文件类型　小结：
删除目录　rm -fr  ,拷贝目录　cp -r ,
regular file , directory , link (符号链接，软链接）
创建软链接文件　ln -s ab bc (把ab原文件，bc是link文件)
2:命令ln 创建链接文件
3:命令readlink 查看链接文件，链接到何处。
character(字符文件,猫）,block(块设备，硬盘，光驱），sock(套接字文件，进程之间通信),
ps:man find 中查看　－type 可以看到文件类型的全部分类。

结束时间：2016年03月30日15:54:30（开始于2小时前）
开始时间：2016年03月30日15:54:30

第82课linux启动过程及32位与64位区别结束

启动过程
1.开机BIOS自检。2.MBR引导，硬盘0柱面0磁道1扇区的前446byte。3.grub引导菜单，cat /etc/grub.conf 。4.加载内核kernel. 5.启动init进程,ps号是1. 6.init进程读取inittab文件，执行rc.sysinit rc 等脚本。/etc/inittab        /etc/rc.d/rc.sysinit        /etc/rc.d/rc3.d/  (根据设置的级别，启动）。启动mingetty 进程。

32位与64位的区别
不同1：设计的定位不同。安装要求配置不同。运算书店不同。寻址能力不同。

32位的系统怎么支持8G内存。PAE功能。

如何区分32位与64位
uname -m
ls -d /lib64

第83课运维第二关知识问题与命令基础考试题1

1, 如何过滤出自己当前目录下oldboy中的所有一级目录？
	a. ls -l | grep "^d"
	b. ls -lF | grep /
	c. tree -d -a -L 1
	d. find ./ -type d -maxdepth 1
	   find 命令的-a参数是去前后条件的交集，-o参数是两边的条件都可以，-！是排除后边的条件。
	e. ls -l | awk '/^d/'
	f. ls -l | sed -n '/^d/p' (-n取消默认输出）
第84课

2，切换到上一次工作目录
	a. cd -（原理是什么）

3，一个目录中有很多文件（ls查看时有好多屏，想最快速度看到最近跟新的文件）
	a. ls -lrt /etc/ 按修改时间（t），倒叙（r,reverse），查看。（ps：ls为什么有颜色，别名alias中--color=auto）

结束时间：2016年03月30日17:52:25共（2个小时20分钟，中间安装了tree与fuck）。

开始时间：2016年03月30日20:25:11

第85课
第86课考试题实在讲解03

5，已知apache服务的访问日志按天记录在服务器本地目录/applogs下，由于磁盘空间紧张，现在要求只能保留最近7天的访问日志！（提示：可以从apache服务配置上着手，也可以从生成出来的日志上着手）
	a.从命令着手.(工作中使用find删除）
命令：ntpdate time.nist.gov ：同步时间
	  find /app/logs/ -type f -name "acc*.log" -mtime +7|xargs rm -f
	  find /app/logs/ -type f -name "acc*.log" -mtime +7 -exec rm -f {} \;(该命令同上）
	查找 logs路径，acc*.log 文件，7天前修改。 -mtime +7 指7天前修改。（修改时间就是ls -l，看到的时间）
ps:find的3个时间： -atime,-catime,-mtime. access(访问），change（改变）。

第87课考题讲解04
6，调试系统服务时，希望能实时查看系统日志/var/log/messages的更新？
tail -f ; tailf ; tail -F ,(-F有重试功能）

第88课 05
7，打印配置文件nginx.conf内容的行号以内容？
cat -n 文件名
nl 文件名
less -N 文件名
grep -n .文件名 （"."是正则表达式中“一个或者多个字符”，-n 是显示过滤出的行号，过滤出文件中的所有内容，并且显示行号） 
awk '{print NR,$0}' 文件名 ，（$0是全部行内容，NR是行号）
vim 文件名 set nu

“." : 点号的意思：a,当前目录。b，隐藏文件。c，正则表达式。d，让文件生效。

第89课 06
8，装完系统后，希望能让网络文件共享服务NFS，仅在3级别上开机启动？
chkconfig --level 3 NFS on

8.8把开发的脚本通过chkconfig管理
在fr脚本的第二行加入
# chkconfig:12345 13 98
# description: fr
chkconfig --add fr(fr为脚本名称）

第91课 07
grub文件:/etc/grub.

第92课 08
中文字符集/etc/sysconfig/i18n是配置文件

第93课 09
12./etc/目录为linux系统的默认的配置文件及服务启动命令的目录
	a，请用tar打包/etc整个目录（打包并且压缩）
	b，请用tar打包/etc整个目录（打包并且压缩，排除/etc/services文件）
	c，把a解压到/tmp目录。
tar -zcvf 生成的文件名 需要压缩的文件名
tar -zxvf 需要解压的文件名
打包习惯，进入需要打包目录的上级目录，需要压缩的文件名写相对路径，主要是为了解压的时候路径不会错误。
z 使用gzip工具，c创建归档文件，v显示过程，f对文件处理，tf查看归档类文件名称，

结束时间：2016年03月30日23:34:41（共3个小时，感觉没有写什么东西）

开始时间：2016年03月31日10:12:18
排除文件之后压缩
tar -zcvf 压缩包名 需要压缩的目录名 --exclude==需要排除的文件名
tar -zcvfX 压缩包名 写有排除文件的文件名 需要压缩的目录名

指定解压后的存放目录
tar -zxvf 压缩包名 -C 指定的存放目录

ps:tar -p 保持打包的文件的属性
       -P(大写）用绝对路径打包（一般不使用，容易覆盖原文件）

第95课
打包的2种方式
-z使用的是gzip打包，-j使用的是bzip2打包。

把目录文件下的所以的test.txt文件打包
find ./ -type f -name test.txt | xargs tar -zcvf a.gz
tar -zcvf 压缩包名 `find ./ -type f -name test.txt`

13.从 “i am cc ,what is your name"中取出”cc name"
cut命令：
cut -d " " f3,f6 cc.txt（逗号前后也取出了） 
cut -c 5-6,19- cc.txt 
awk命令：
awk '{print,$3,$6}' cc.txt  (默认分隔符就是空格）
awk的多分隔符
awk -F "[, ]" '{print,$3,$6} cc.txt (使用逗号和空格双分隔符,$NF是取最后一列）

第96课
14.如何查看/etc/services文件有多少行？
	a.   wc -l 文件名 （line）
	b.   cat -n 文件名
	c.   awk '{print NR}' /etc/services|tail -1
	d.   grep -n $ /etc/services | tail -1
ps:wc -l(显示多少行),wc -c (显示多少个字符), wc -w(显示多少个单词)

命令行及shell中不加引号、加单引号和加双引号的区别
单引号：
	可以说是所见即所得：将单引号内的内容原样输出，
双引号：
	把双引号内的内容输出出来：如果内容中有命令、变量等，会先解析出结构，然后在输出最终内容来。

不加引号：不会将含有空格的字符串视为一个整体输出，如果内容中有命令、变量等，会先把变量、命令的结果解析出来。

结束时间:2016年03月31日11:58:35（共一个半小时）

开始时间:2016年03月31日14:09:44
mkfs.ext4 -b 2048 -i 256 /dev/sdb
第98课
复习

第99课 linux系统文件属性

命令：stat 文件名 ，查看文件属性
命令：ls -lhi ，-i inode接点，-h human 显示可以看懂的大小。
1707216 -rw-r--r-- 1 moon moon  11K  3月 31 11:58 linux-note.txt
第一列 inode节点号，相当于目录。
第二列 文件类型及权限
第三列 文件的链接数（硬链接）
第四列 属主及所归属的组
第六列 文件的大小
第七列 文件的最后一次修改时间

第100课 linux系统文件属性inode知识深度详解01
inode 概述
indoe，中文意思是索引节点（index node）。
硬盘被格式化后，一般有两个部分：第一部分是indoe（很多个），第二部分是Block（很多个）
Block是用了存储实际数据用的。
而inode就是用来存储这些数据 属性信息 （也就是ls -l的结果），inode包含的属性信息inode包含的属性信息 文件大小、属主、归属的用户组、读写权限、文件类型、修改时间还包含指向文件实体的指针的功能，但是不包含文件名。
ps：文件名在文件的上级目录的block中。
格式化之后inode的大小是不能更改的，一个文件一个inode，一个inode指向多个block。
centos5 inode 默认 128字节。centos6 inode 默认大小256字节。
命令：df -i 查看inode使用
命令：df -h 查看磁盘使用量
小结：
1）ext4文件系统生成后会生成移动数量的inode与block
2）inode是索引节点，作用是存放文件的属性一级作为文件的索引（指向文件的实体block）
3）inode是一串数字，不同的文件对应的inode在文件系统里是唯一的。硬链接的inode是一样的。
4）inode是一块存储空间。
5)一个文件至少要占用一个inode和一个block。
6)ext3/ext4 文件系统block存放文件的实际内容。
7)block的大小有1,2,4k，引导分区位1k，其他分区位4k（c6），可以更改。

第101课linux系统文件属性.
第102课linux系统文件属性。
8）如何生成inode并指定大小
	mkfs.ext4 -b 2048 -i 256 /dev/sdb

有关block的知识
1）磁盘读取数据是按block位单位读取的。
2）一个文件可能占用多个block。每读取一个block就会消耗一次磁盘I/O
3）小文件用小block，可以减少空间浪费。大文件用大block，可以减少磁盘I/O
4）block大小在格式时确定
	mkfs.ext4 -b 2048 -i 256 /dev/sdb

结束时间：2016年03月31日15:50:38
开始时间：2016年03月31日16:18:23

第103课有关inode知识的企业面试题目
一个100M的磁盘分区，分别写入1k，1m的文件，分别写多少个？
block为1k，写1k就是10万个，1m就是100个。
block为4k，写lk就是2万5千个，lm就是100个。
常规情况下block多，inode少，文件过小的时候，会先消耗inode，文件总量由inode决定。所以1k是写不了10个或者2万5千个的。
a.inode概述。b，block概述。c，一个文件一个inode，一个或者多个block。d，inode少于block。

第104课 linux系统文件属性之文件权限基础
文件权限 9个字符
前3个是属主权限位，中间3个是输组权限位，后3个是其他用户权限位。
r-reead，w-wright，x-execute。

第105课 linux文件属性之链接的概念介绍
链接分为两种：硬链接hard link，软链接soft link。
ln命令是创建链接文件的。
ln 原文件 目标文件 （硬链接）
ln 源文件 目标文件 -s （软链接）

硬链接是指通过索引节点（inode）来进行链接。
	在linux中，多个文件名指向同一个索引节点（inode）是正常的，即硬链接。
	硬链接的作用，担心一个文件被删除可以在另一个地方做一个硬链接。防止误删
。设备的快照，就是增加一个快照。

第107课
linux系统，文件删除讲解
静态文件删除（不会被应用调用的文件,目录也是静态）
所有的硬链接都被删除，该文件被删除。

硬链接小结：
ln 源文件 硬链接文件 ，创建硬链接文件。
1）具有相同inode节点号的多个文件是互为硬链接文件。
2）删除全部硬链接文件，文件实体才会被删除。
3）当所有的硬链接文件及源文件被删除后，再存放新的数据会占用整个文件的空间，磁盘fsck检查的时候，删除的数据也会被系统回收。
4）硬链接文件是文件的另一个人口。
5）可以通过给文件设置硬链接文件，来防止重要文件被误删。
6）rm命令可删除硬链接文件。

结束时间：2016年03月31日17:33:03
开始时间：2016年03月31日19:10:58

第108课软连接概念原理及核心知识技术
软连接:soft link 或者symbolic link
相当于windows的快捷方式，文件类型是l。可以理解为一个文本文件，文本中包含有软连接指向另一个源文件的位置信息内容（文件名，不是block实体存储，readlink 软连接名，查看软连接内容）
软链接小结：
1）软链接类似快捷方式。
2）软链接类似一个文本文件，里面存放的是源文件的路径，指向源文件实体。
3）删除源文件，软链接依然存在，但是无法访问指向的路径内容了。
4）执行命令“ln -s 源文件 软链接文件“，即可完成软链接创建（软链接文件创建前不能存在）
5）软链接和源文件是不同类型的文件，也是不同的文件。inode号是不同的。
6）rm 软链接 ，删除软链接。

第109课 通过文件实战讲解软硬链接的概念
第110课 通过目录
目录不能创建硬链接（目录下的内容可能不在一个物理设备上）
给目录创建软链接，工作中常用。
ln -s 目录名 软链接名。（目录的链接号至少是2，因为有代表当前路径的”.“存在，如果子目录下还有目录，那至少是3，因为有代表父级路径的”.."存在。）

第111课 链接文件的删除知识实践
有关文件链接小结
删除软链接，不影响文件。
删除硬链接，源文件还在。
删除源文件，硬链接无影响，软链接失效。
改动文件，软链接、硬链接源文件查看的内容都改动。
删除硬链接与源文件之后，文件不存在。
快照使用了硬链接。

有关目录链接小结
1）目录不能创建硬链接，可以创建软链接
2）每个目录下面都有一个硬链接“."，和对于上级目录的链接".."。
3）在父目录里创建一个子目录，父目录的链接数增加1.

软链接与硬链接的区别
概念，文件的区别，目录的区别

第113课链接知识的拓展
第114课文件删除的原理
无进程在读写的文件，i_link为0，则文件被删除。
有进程在读写的文件，i_link为0，i_count为0，则文件被删除。
案例：oldboy.blog.51cto.com/2561410/612351
